{"version":3,"sources":["script.js"],"names":["vhFunction","vh","window","innerHeight","document","documentElement","style","setProperty","concat","addEventListener","_","throttle","leading","trailing","$imprintButton","querySelector","$imprint","$privacyButton","$privacy","$overlays","querySelectorAll","$closeButtons","addTransition","$element","classList","add","setTimeout","remove","closeOverlay","forEach","$overlay","$button","event","key","$link","e","preventDefault","location","href","isInViewportHalf","elem","bounding","getBoundingClientRect","height","offsetHeight","top","bottom","clientHeight","$browsers","$videos","checkBrowser","$browser","i","video","play","currentTime","paused","ended","readyState","pause","starsNumber","$starsContainer1","$starsContainer2","$starsContainer3","createStar","$container","$star","createElement","left","Math","floor","random","appendChild","createStars","count","interval","setInterval","clearInterval","parallaxStars","scrollTriggerArgs","trigger","scroller","start","end","scrub","gsap","fromTo","yPercent","ease","scrollTrigger","$rows","$dom","$portfolio","$footer","scaleRowsInOut","element","$inner","set","scale","tl","timeline","to","duration"],"mappings":"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","sourcesContent":["// Whole-Script Strict Mode Syntax\n'use strict';\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\"] }] */\n/*global  _, gsap  */\n\n\nfunction vhFunction(){\n    // vh === innerHeight / 100\n    let vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n  }\nwindow.addEventListener('resize', _.throttle(vhFunction, 500, { 'leading': true, 'trailing': true }));\nvhFunction(); // on init\n\n\n\n// get footer link objects\nlet $imprintButton = document.querySelector('#imprint-button');\nlet $imprint = document.querySelector('#imprint');\n\nlet $privacyButton = document.querySelector('#privacy-button');\nlet $privacy = document.querySelector('#privacy');\n\nlet $overlays = document.querySelectorAll('.overlay');\nlet $closeButtons = document.querySelectorAll('button.close');\n\n\n\n// add transition prop .overlay.is-transition -> footer.scss\nfunction addTransition( $element ){\n  $element.classList.add('is-transition');\n\n  setTimeout(() =>{\n    $element.classList.remove('is-transition');\n  },500);\n}\n\n\n\n// open overlays on click\n$imprintButton.addEventListener('click', ()=>{\n  addTransition($imprint);\n  $imprint.classList.add('is-active');\n});\n\n$privacyButton.addEventListener('click', ()=>{\n  addTransition($privacy);\n  $privacy.classList.add('is-active');\n});\n\n\n\nfunction closeOverlay(){\n  $overlays.forEach( ($overlay) => {\n    addTransition($overlay);\n    $overlay.classList.remove('is-active');\n  });\n}\n\n// close overlays on click\n$closeButtons.forEach( ( $button ) =>{\n  $button.addEventListener('click', () =>{\n    closeOverlay();\n  });\n});\n\n// close on \"esc\"\ndocument.addEventListener('keydown', function(event){\n\tif(event.key === \"Escape\"){\n    closeOverlay();\n\t}\n});\n\n\n// open email on contact click\ndocument.querySelectorAll('.mail').forEach(( $link )=> {\n  $link.addEventListener('click', (e)=>{\n    e.preventDefault();\n    window.location.href = \"mailto:post@dennishelbig.com?subject=Hello there&body=\";\n  });\n});\n\n\n\n// check if browser-module is in viewport\nvar isInViewportHalf = function (elem) {\n  var bounding = elem.getBoundingClientRect();\n  var height = elem.offsetHeight;\n    return (\n      ( bounding.top + height / 2 ) >= 0 &&\n      ( bounding.bottom - height / 2 ) <= (window.innerHeight || document.documentElement.clientHeight)\n    );\n};\n\n\n\n// get browser-modules\nvar $browsers = document.querySelectorAll('.browser');\nvar $videos = document.querySelectorAll('video');\n\n\n// if video is in viewport -> play it\nfunction checkBrowser(){\n  $browsers.forEach( ( $browser, i ) => {\n    var video = $videos[i];\n    if( isInViewportHalf( $browser ) ){\n      video.play();\n\n    }else{\n      if(video.currentTime > 0 && !video.paused && !video.ended && video.readyState > 2){\n        video.pause();\n      }\n    }\n  });\n}\n\n\n/************************************************************* */\n/********************    Scrolltrigger    ******************** */\n/************************************************************* */\n\n\nvar starsNumber = 100;\nvar $starsContainer1 = document.querySelector('.stars.one');\nvar $starsContainer2 = document.querySelector('.stars.two');\nvar $starsContainer3 = document.querySelector('.stars.three');\n\n\n// create stars for background\nfunction createStar($container){\n  var $star = document.createElement('div');\n  $star.classList.add('star');\n  // get random rr.r%\n  $star.style.left = Math.floor(Math.random() * 100) + '.' + Math.floor(Math.random() * 10) + '%';\n  $star.style.top = Math.floor(Math.random() * 100) + '.' + Math.floor(Math.random() * 10) + '%';\n\n  $container.appendChild($star);\n}\n\n// execute create stars in background containers\nfunction createStars(){\n  var count = 0;\n  var interval = setInterval(function () {\n\n    createStar($starsContainer1);\n    createStar($starsContainer2);\n    createStar($starsContainer3);\n\n    if ( ++count === starsNumber ) {\n      window.clearInterval(interval);\n    }\n  }, 20);\n}\ncreateStars();\n\n\n\nfunction parallaxStars(){\n  var scrollTriggerArgs = {\n    trigger: \"#portfolio\",\n    scroller: \"#dom\",\n    start: \"top top\", // when the top of the trigger hits the top of the viewport\n    end: \"bottom bottom\",\n    scrub: 0.05 // smooth scrubbing\n  }\n\n  // move container 2 by 25% to top\n  gsap.fromTo('.stars.two', {\n    yPercent: 0\n  },{\n    yPercent: -25,\n    ease: \"linear\",\n    scrollTrigger: scrollTriggerArgs\n  });\n\n  // move container 3 by 50% to top\n  gsap.fromTo('.stars.three', {\n    yPercent: 0\n  },{\n    yPercent: -50,\n    ease: \"linear\",\n    scrollTrigger: scrollTriggerArgs\n  });\n}\n\n\n// get rows & function essentials\nlet $rows = document.querySelectorAll('.row');\nlet $dom = document.querySelector('#dom');\nlet $portfolio = document.querySelector('#portfolio');\nlet $footer = document.querySelector('footer');\n\n\n// motion timeline for each row \nfunction scaleRowsInOut(){\n  $rows.forEach(element => {\n    var $inner = element.querySelector('.row-inner');\n    gsap.set( $inner, {scale: 0.75})\n\n    const tl = gsap.timeline({\n      ease: \"power4.inOut\",\n      scrollTrigger: {\n        scroller: '#dom',\n        trigger: element,\n        start: \"top bottom\",\n        end: \"bottom top\",\n        scrub: true\n        // markers: true\n      }\n    });\n    tl.to( $inner, {scale: 1, duration: 1}) // move in\n    tl.to( $inner, {scale: 1, duration: 0.5}) // move along\n    tl.to( $inner, {scale: 0.8, duration: 0.75}) // move out\n  });\n}\n\n\n\n// on init\ncheckBrowser();\n\n\n\n// prepare for intro\n$dom.classList.add('overflow-hidden');\n// throttle while browsing\n$dom.addEventListener('scroll', _.throttle(checkBrowser, 500, { 'leading': true, 'trailing': true }));\n\n\n// slide in content\nsetTimeout(()=>{\n  $portfolio.classList.remove('transition-fade-slide-in'); // -> transition.scss\n},3500);\n\n// enable pointer\nsetTimeout(() =>{\n  $footer.classList.remove('pointer-none'); // -> misc.scss\n}, 4000);\n\n// init row scale effect\nsetTimeout(() =>{\n  $dom.classList.remove('overflow-hidden'); // -> misc.scss\n  parallaxStars();\n  scaleRowsInOut();\n}, 4000);\n\n\n"]}